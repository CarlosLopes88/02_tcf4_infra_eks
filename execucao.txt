
├── /infra_eks
│   ├── /.github
│   │   └── /workflows
|   │   │   └── deploy_eks.yaml
│   ├── /cliente
│   │   └── cliente.tf
│   ├── /produto
│   │   └── produto.tf
│   ├── /pedidopgto
│   │   └── pedidopgto.tf


cliente.tf




produto.tf


pedidopgto.tf


deploy_eks.yaml





git init

git remote add origin https://github.com/CarlosLopes88/02_tcf4_infra_eks.git

git add .

git commit -m "subida infra eks"

git branch -M main

git push -u origin main

git checkout -b dev

git add .

git commit -m "subida infra eks"

git push -u origin dev


Para deletar tudo manualmente na AWS de forma segura, aqui está a ordem:

EKS Clusters:

Delete os workloads primeiro (deployments, services)
Delete os node groups
Delete os clusters: eks-cliente, eks-produto, eks-pedidopgto


IAM:

Remova as roles:

eks-cluster-role-cliente
eks-nodegroup-role-cliente
eks-cluster-role-produto
eks-nodegroup-role-produto
eks-cluster-role-pedidopgto
eks-nodegroup-role-pedidopgto




CloudWatch:

Delete os log groups: /aws/eks/eks-cliente/cluster, /aws/eks/eks-produto/cluster, /aws/eks/eks-pedidopgto/cluster

PS C:\Users\carlo\OneDrive\Área de Trabalho\tech_challenge_4 - final\02_infra_eks> aws kms delete-alias --alias-name alias/eks/eks-cliente
PS C:\Users\carlo\OneDrive\Área de Trabalho\tech_challenge_4 - final\02_infra_eks> aws logs delete-log-group --log-group-name /aws/eks/eks-cliente/cluster